// Includes
#include "stdafx.h"
#include <fstream>
#include <iostream>
#include <string>
#include <vector>
#include <iostream>
#include <ostream>
#include <algorithm>
using namespace std;
//

const string fileName = "highscores.txt";

// Struct holds a persons name and score
struct person {
	int score;
	string name;
};

// Compares two passed scores, used in the sort
bool sortingVector(const person& score1, const person& score2)
{
	return score1.score < score2.score;
}

int main() {

	// Struct object used for passing values into vector
	person personObjectHolder;
	// Vector to hold all of the highscores
	vector<person> people;

	/*--------------------------------------------------------------------------*/
	// Below code reads file into struct object, pushes that to the back        //
	// of the vector and then sorts it, putting the highest score at the start. //
	/*--------------------------------------------------------------------------*/
	ifstream readHighscores(fileName);

	while (!readHighscores.eof()) {

		readHighscores >> personObjectHolder.name >> personObjectHolder.score;
		people.push_back(personObjectHolder);
	}

	readHighscores.close();
	sort(people.begin(), people.end(), sortingVector);

	/*--------------------------------------------------------------------------*/
	// Below code outputs the sorted scores back into the highscores file.       //
	/*--------------------------------------------------------------------------*/

	ofstream writeSortedHighscores(fileName);
	
	for (int i = 0; people.size() > i; i++) {
	
		writeSortedHighscores << people[i].name << " " << people[i].score << "\n";
	}

	writeSortedHighscores.close();



}
